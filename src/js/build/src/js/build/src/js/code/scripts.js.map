{"version":3,"sources":["src/js/code/node_modules/browser-pack/_prelude.js","src/js/code/src/js/code/cookie.js","src/js/code/src/js/code/maps.js","src/js/code/src/js/code/scripts.js"],"names":[],"mappings":"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","file":"../../../../code/scripts.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/* Cookie */\n\nvar cookie = {\n    createCookie: function(name, value, days) {\n        var expires = \"\";\n        if (days) {\n            var date = new Date();\n            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n            expires = \"; expires=\" + date.toUTCString();\n        }\n        document.cookie = name + \"=\" + value + expires + \"; path=/\";\n        console.log('creaded cookie');\n    },\n    readCookie: function(name) {\n        var nameEQ = name + \"=\";\n        var ca = document.cookie.split(';');\n        for (var i = 0; i < ca.length; i++) {\n            var c = ca[i];\n            while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n        }\n        return null;\n    }\n};\n\n\n$('.cookie_wrapper a').click(() => {\n    createCookie('blonde-age-legal', 'yes', 30);\n    $('.cookie_wrapper').toggleClass('hidden');\n});\n\nvar acceptedCookie = readCookie('blonde-age-legal');\n\nconsole.log('acceptedCookie', acceptedCookie);\n\nif (acceptedCookie === 'yes') {\n    $('.cookie_wrapper').addClass('hidden');\n}\n\nmodule.exports = {\n    cookie\n};","var geocoder = new google.maps.Geocoder();\n// global var\nvar map = null;\n\nvar gmaps = {\n\n\tgetLatLong: function(address, callback, map, $marker) {\n\t\t// var address_string;\n\t\t// console.log(\"tyepof $address\", typeof $address);\n\t\t// if (typeof address == \"object\") {\n\t\t// \tconsole.log(\"$address\", $address);\n\t\t// \taddress_string = ($address.attr(\"data-address\"));\n\n\t\t// } else {\n\t\t// \taddress_string = $address;\n\t\t// }\n\n\t\tgeocoder.geocode({\n\t\t\t\"address\": address\n\t\t}, function(results, status) {\n\t\t\tif (status === google.maps.GeocoderStatus.OK) {\n\t\t\t\t// console.log(\"gettin lat long of \" + address, results[0].geometry.location);\n\t\t\t\t// console.log(\"lat :\", results[0].geometry.location.lat());\n\t\t\t\t// console.log(\"lng :\", results[0].geometry.location.lng());\n\n\n\t\t\t\tif (typeof callback === \"function\") {\n\t\t\t\t\tcallback(results[0].geometry.location, map, $marker);\n\t\t\t\t} else {\n\n\t\t\t\t\treturn results[0].geometry.location;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// console.log(\"callback\", callback);\n\t\t\t\t// console.log(\"address\", address);\n\t\t\t\t// console.log(\"map\", map);\n\t\t\t\tconsole.log(\"Le geocodage n\\\"a pu etre effectue pour la raison suivante: \" + status);\n\t\t\t}\n\t\t});\n\t},\n\n\tnew_map: function($el) {\n\n\t\t// var\n\t\tvar $markers = $el.find(\".marker\");\n\n\t\t// vars\n\t\tvar args = {\n\t\t\tzoom: 12,\n\t\t\tcenter: new google.maps.LatLng(0, 0),\n\t\t\tmapTypeId: google.maps.MapTypeId.ROADMAP\n\t\t};\n\n\t\t// create map\t        \t\n\t\tvar map = new google.maps.Map($el[0], args);\n\n\t\t// add a markers reference\n\t\tmap.markers = [];\n\n\t\t// add markers\n\t\t$markers.each(function() {\n\n\t\t\t// add_marker($(this), map);\n\t\t\t// console.log(\"this\", $(this)[0]);\n\t\t\t// console.log(\"data-address\", $(this).attr(\"data-address\"));\n\t\t\tgetLatLong($(this).attr(\"data-address\"), add_marker, map, $(this));\n\t\t});\n\n\t\t// console.log(\"map.markers\", map.markers);\n\n\t\t// center map\n\t\tcenter_map(map);\n\n\t\t// return\n\t\treturn map;\n\t},\n\n\t/*\n\t      *  add_marker\n\t      *\n\t      *  This function will add a marker to the selected Google Map\n\t      *\n\t      *  @type\tfunction\n\t      *  @date\t8/11/2013\n\t      *  @since\t4.3.0\n\t      *\n\t      *  @param\t$marker (jQuery element)\n\t      *  @param\tmap (Google Map object)\n\t      *  @return\tn/a\n\t      */\n\n\t//ACF DEFAULT\n\t// function add_marker(location, $marker, map) {\n\n\t// \t// var\n\t// \t// var latlng = new google.maps.LatLng($marker.attr(\"data-lat\"), $marker.attr(\"data-lng\"));\n\t// \tvar latlng = new google.maps.LatLng(0, 0);\n\n\t// \t// create marker\n\t// \tvar marker = new google.maps.Marker({\n\t// \t\tposition: latlng,\n\t// \t\tmap: map\n\t// \t});\n\n\t// \t// add to array\n\t// \tmap.markers.push(marker);\n\n\t// \t// if marker contains HTML, add it to an infoWindow\n\t// \tif ($marker.html()) {\n\t// \t\t// create info window\n\t// \t\tvar infowindow = new google.maps.InfoWindow({\n\t// \t\t\tcontent: $marker.html()\n\t// \t\t});\n\n\t// \t\t// show info window when marker is clicked\n\t// \t\tgoogle.maps.event.addListener(marker, \"click\", function() {\n\n\t// \t\t\tinfowindow.open(map, marker);\n\n\t// \t\t});\n\t// \t}\n\n\t// }\n\n\tadd_marker: function(location, map, $marker) {\n\n\t\t// console.log(\"lat : location.lat() :\", location.lat());\n\t\t// console.log(\"lng : location.lng() :\", location.lng());\n\t\t// console.log(\"map\", map);\n\n\t\tvar icon = {\n\t\t\tpath: \"M18.138 3.167c-4.048-4.05-10.613-4.05-14.662 0-3.648 3.65-4.059 10.524-.963 14.654l8.294 11.985 8.294-11.985c3.096-4.13 2.685-11.004-.963-14.654zm-7.23 10.659a3.423 3.423 0 0 1-3.422-3.424 3.423 3.423 0 1 1 6.844 0 3.423 3.423 0 0 1-3.422 3.424z\",\n\t\t\tfillColor: \"#FE9426\",\n\t\t\tfillOpacity: 1,\n\t\t\tanchor: new google.maps.Point(0, 0),\n\t\t\tstrokeWeight: 0,\n\t\t\tscale: 1\n\t\t};\n\n\t\t// var\n\t\tvar latlng = new google.maps.LatLng(location.lat(), location.lng());\n\n\t\t// create marker\n\t\tvar marker = new google.maps.Marker({\n\t\t\tposition: latlng,\n\t\t\tmap: map,\n\t\t\ticon: icon\n\t\t});\n\n\t\t// add to array\n\t\tmap.markers.push(marker);\n\n\t\t// console.log(\"map.markers\", map.markers);\n\n\t\t// console.log(\"marker html\", $marker.html());\n\t\t// if marker contains HTML, add it to an infoWindow\n\t\tif ($marker.html()) {\n\t\t\t// create info window\n\t\t\tvar infowindow = new google.maps.InfoWindow({\n\t\t\t\tcontent: $marker.html()\n\t\t\t});\n\n\t\t\t// show info window when marker is clicked\n\t\t\tgoogle.maps.event.addListener(marker, \"click\", function() {\n\n\t\t\t\tinfowindow.open(map, marker);\n\t\t\t});\n\t\t}\n\t},\n\n\t/*\n\t      *  center_map\n\t      *\n\t      *  This function will center the map, showing all markers attached to this map\n\t      *\n\t      *  @type\tfunction\n\t      *  @date\t8/11/2013\n\t      *  @since\t4.3.0\n\t      *\n\t      *  @param\tmap (Google Map object)\n\t      *  @return\tn/a\n\t      */\n\n\tcenter_map: function(map) {\n\n\t\t// vars\n\t\tvar bounds = new google.maps.LatLngBounds();\n\n\t\t// console.log(\"map\", map);\n\t\t// console.log(\"map.markers\", map.markers);\n\t\t// console.log(\"map.markers.length\", map.markers.length);\n\t\t// WHAT....... what is async in previous funcs?\n\t\tsetTimeout(function() {\n\t\t\t// loop through all markers and create bounds\n\t\t\t$.each(map.markers, function(i, marker) {\n\n\t\t\t\tvar latlng = new google.maps.LatLng(marker.position.lat(), marker.position.lng());\n\n\t\t\t\tconsole.log(\"latlng of markers\", latlng);\n\n\t\t\t\tbounds.extend(latlng);\n\t\t\t});\n\n\t\t\t// only 1 marker?\n\t\t\tif (map.markers.length === 1) {\n\t\t\t\t// set center of map\n\t\t\t\tmap.setCenter(bounds.getCenter());\n\t\t\t\tmap.setZoom(16);\n\t\t\t} else {\n\t\t\t\t// fit to bounds\n\t\t\t\tmap.fitBounds(bounds);\n\t\t\t}\n\t\t}, 1000);\n\t},\n\n\tpanToPosition: function(position) {\n\t\tconsole.log(\"map\", map);\n\t\tmap.panTo(position);\n\t},\n\n\t// function recenter_on_select() {\n\t// \tconsole.log();\n\t// }\n\n/*\n      *  document ready\n      *\n      *  This function will render each map when the document is ready (page has loaded)\n      *\n      *  @type\tfunction\n      *  @date\t8/11/2013\n      *  @since\t5.0.0\n      *\n      *  @param\tn/a\n      *  @return\tn/a\n      */\n};\n\n$(\".select_center\").change(() => {\n\t// var map = new_map($(\".acf-map\"));\n\tgetLatLong($(\".select_center\").val(), panToPosition);\n// map.panTo\n});\n\n$(document).ready(function() {\n\n\t$(\".acf-map\").each(() => {\n\n\t\t// create map\n\t\tmap = new_map($(this));\n\t\tconsole.log(\"map created\");\n\t});\n});\n\nmodule.exports = {\n\tgmaps\n};","if ($(\".gmaps\").length > 0) {\n\tconst {gmaps} = require('./maps');\n}\n\nconst {cookie} = require('./cookie');\n\n(function(root, $, undefined) {\n\"use strict\";\n\n$(() => {\n\t// DOM ready, take it away\n\n\tconsole.log(\"JS/JQ Ready v.7 \");\n\n\t/* Loader */\n\t$(window).load(function() {\n\t\t$(\".loader\").fadeOut(\"slow\");\n\t});\n\n\t/* Hamburger menu */\n\tvar hamburger = $(\"#hamburger-icon\");\n\thamburger.click(function() {\n\t\thamburger.toggleClass(\"active\");\n\t\t$(\".navs_wrapper nav\").toggleClass(\"tablet_menu_active\");\n\t// return false;\n\t});\n\n\t/* Form button replacement */\n\tif (jQuery(\"form.wpcf7-form .button\").length > 0) {\n\t\tjQuery(\"form.wpcf7-form .button\").click(function() {\n\t\t\tconsole.log(\"submitting\");\n\t\t\t$(this).closest(\"form\").submit();\n\t\t});\n\t}\n\n\t/*Show more events*/\n\n\tsetTimeout(() => {\n\t\t$('.more_events').click((e) => {\n\t\t\tconsole.log(\"showing more events\");\n\t\t\te.preventDefault();\n\t\t\t$('.event.ninja').fadeIn();\n\t\t\t$('.more_events').css('left', '100%');\n\t\t});\n\t\t$('.more_photos').click((e) => {\n\t\t\tconsole.log(\"showing more events\");\n\t\t\te.preventDefault();\n\t\t\t$('.album_thumb.ninja').fadeIn(() => {\n\t\t\t\t// $('.more_photos').fadeOut(() => {\n\t\t\t\t// \tconsole.log('slidup');\n\t\t\t\t// });\n\t\t\t});\n\t\t\t$('.more_photos').css('left', '100%');\n\t\t});\n\t}, 10);\n\n\t/* Magnific popup */\n\t// $('.photo_gallery .photo').magnificPopup({\n\t// \tdelegate: 'a', // child items selector, by clicking on it popup will open\n\t// \ttype: 'image'\n\t// // other options\n\t// });\n\n\t$('.photo_gallery .photo a').magnificPopup({\n\t\ttype: 'image',\n\n\t\tgallery: {\n\t\t\tenabled: true,\n\t\t\tpreload: [0, 2], // read about this option in next Lazy-loading section\n\n\t\t\tnavigateByImgClick: true,\n\n\t\t\tarrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>', // markup of an arrow button\n\n\t\t\ttPrev: 'Previous (Left arrow key)', // title for left button\n\t\t\ttNext: 'Next (Right arrow key)', // title for right button\n\t\t\ttCounter: '<span class=\"mfp-counter\">%curr% of %total%</span>' // markup of counter\n\t\t}\n\t});\n\n\n\t/* Smooth anchor scroll from css-tricks */\n\t// Select all links with hashes\n\t$('a[href*=\"#\"]')\n\t\t// Remove links that don't actually link to anything\n\t\t.not('[href=\"#\"]')\n\t\t.not('[href=\"#0\"]')\n\t\t.click(function(event) {\n\t\t\t// On-page links\n\t\t\tif (\n\t\t\t\t\tlocation.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '')\n\t\t\t\t\t&&\n\t\t\t\t\tlocation.hostname == this.hostname\n\t\t\t) {\n\t\t\t\t// Figure out element to scroll to\n\t\t\t\tvar target = $(this.hash);\n\t\t\t\ttarget = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\n\t\t\t\t// Does a scroll target exist?\n\t\t\t\tif (target.length) {\n\t\t\t\t\t// Only prevent default if animation is actually gonna happen\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t$('html, body').animate({\n\t\t\t\t\t\tscrollTop: target.offset().top\n\t\t\t\t\t}, 1000, function() {\n\t\t\t\t\t\t// Callback after animation\n\t\t\t\t\t\t// Must change focus!\n\t\t\t\t\t\tvar $target = $(target);\n\t\t\t\t\t\t$target.focus();\n\t\t\t\t\t\tif ($target.is(\":focus\")) { // Checking if the target was focused\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$target.attr('tabindex', '-1'); // Adding tabindex for elements not focusable\n\t\t\t\t\t\t\t$target.focus(); // Set focus again\n\t\t\t\t\t\t}\n\t\t\t\t\t\t;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n});\n})(undefined, jQuery);"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29kZS9jb29raWUuanMiLCJzcmMvanMvY29kZS9tYXBzLmpzIiwic3JjL2pzL2NvZGUvc2NyaXB0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7O0FBRUEsSUFBSSxTQUFTO0FBQ1Qsa0JBQWMsc0JBQVMsSUFBVCxFQUFlLEtBQWYsRUFBc0IsSUFBdEIsRUFBNEI7QUFDdEMsWUFBSSxVQUFVLEVBQWQ7QUFDQSxZQUFJLElBQUosRUFBVTtBQUNOLGdCQUFJLE9BQU8sSUFBSSxJQUFKLEVBQVg7QUFDQSxpQkFBSyxPQUFMLENBQWEsS0FBSyxPQUFMLEtBQWtCLE9BQU8sRUFBUCxHQUFZLEVBQVosR0FBaUIsRUFBakIsR0FBc0IsSUFBckQ7QUFDQSxzQkFBVSxlQUFlLEtBQUssV0FBTCxFQUF6QjtBQUNIO0FBQ0QsaUJBQVMsTUFBVCxHQUFrQixPQUFPLEdBQVAsR0FBYSxLQUFiLEdBQXFCLE9BQXJCLEdBQStCLFVBQWpEO0FBQ0EsZ0JBQVEsR0FBUixDQUFZLGdCQUFaO0FBQ0gsS0FWUTtBQVdULGdCQUFZLG9CQUFTLElBQVQsRUFBZTtBQUN2QixZQUFJLFNBQVMsT0FBTyxHQUFwQjtBQUNBLFlBQUksS0FBSyxTQUFTLE1BQVQsQ0FBZ0IsS0FBaEIsQ0FBc0IsR0FBdEIsQ0FBVDtBQUNBLGFBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxHQUFHLE1BQXZCLEVBQStCLEdBQS9CLEVBQW9DO0FBQ2hDLGdCQUFJLElBQUksR0FBRyxDQUFILENBQVI7QUFDQSxtQkFBTyxFQUFFLE1BQUYsQ0FBUyxDQUFULEtBQWUsR0FBdEI7QUFBMkIsb0JBQUksRUFBRSxTQUFGLENBQVksQ0FBWixFQUFlLEVBQUUsTUFBakIsQ0FBSjtBQUEzQixhQUNBLElBQUksRUFBRSxPQUFGLENBQVUsTUFBVixLQUFxQixDQUF6QixFQUE0QixPQUFPLEVBQUUsU0FBRixD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Q0FBd0I7QUFDdkIsaUJBQVcsT0FBTyxNQUFQLEdBQWdCO0FBREosTUFBeEIsRUFFRyxJQUZILEVBRVMsWUFBVztBQUNuQjtBQUNBO0FBQ0EsVUFBSSxVQUFVLEVBQUUsTUFBRixDQUFkO0FBQ0EsY0FBUSxLQUFSO0FBQ0EsVUFBSSxRQUFRLEVBQVIsQ0FBVyxRQUFYLENBQUosRUFBMEI7QUFBRTtBQUMzQixjQUFPLEtBQVA7QUFDQSxPQUZELE1BRU87QUFDTixlQUFRLElBQVIsQ0FBYSxVQUFiLEVBQXlCLElBQXpCLEVBRE0sQ0FDMEI7QUFDaEMsZUFBUSxLQUFSLEdBRk0sQ0FFVztBQUNqQjtBQUNEO0FBQ0EsTUFkRDtBQWVBO0FBQ0Q7QUFDRCxHQW5DRjtBQXFDQSxFQS9HRDtBQWdIQyxDQW5IRCxFQW1IRyxTQW5ISCxFQW1IYyxNQW5IZCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiBDb29raWUgKi9cblxudmFyIGNvb2tpZSA9IHtcbiAgICBjcmVhdGVDb29raWU6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBkYXlzKSB7XG4gICAgICAgIHZhciBleHBpcmVzID0gXCJcIjtcbiAgICAgICAgaWYgKGRheXMpIHtcbiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIChkYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCkpO1xuICAgICAgICAgICAgZXhwaXJlcyA9IFwiOyBleHBpcmVzPVwiICsgZGF0ZS50b1VUQ1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj1cIiArIHZhbHVlICsgZXhwaXJlcyArIFwiOyBwYXRoPS9cIjtcbiAgICAgICAgY29uc29sZS5sb2coJ2NyZWFkZWQgY29va2llJyk7XG4gICAgfSxcbiAgICByZWFkQ29va2llOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHZhciBuYW1lRVEgPSBuYW1lICsgXCI9XCI7XG4gICAgICAgIHZhciBjYSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYyA9IGNhW2ldO1xuICAgICAgICAgICAgd2hpbGUgKGMuY2hhckF0KDApID09ICcgJykgYyA9IGMuc3Vic3RyaW5nKDEsIGMubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmIChjLmluZGV4T2YobmFtZUVRKSA9PSAwKSByZXR1cm4gYy5zdWJzdHJpbmcobmFtZUVRLmxlbmd0aCwgYy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn07XG5cblxuJCgnLmNvb2tpZV93cmFwcGVyIGEnKS5jbGljaygoKSA9PiB7XG4gICAgY3JlYXRlQ29va2llKCdibG9uZGUtYWdlLWxlZ2FsJywgJ3llcycsIDMwKTtcbiAgICAkKCcuY29va2llX3dyYXBwZXInKS50b2dnbGVDbGFzcygnaGlkZGVuJyk7XG59KTtcblxudmFyIGFjY2VwdGVkQ29va2llID0gcmVhZENvb2tpZSgnYmxvbmRlLWFnZS1sZWdhbCcpO1xuXG5jb25zb2xlLmxvZygnYWNjZXB0ZWRDb29raWUnLCBhY2NlcHRlZENvb2tpZSk7XG5cbmlmIChhY2NlcHRlZENvb2tpZSA9PT0gJ3llcycpIHtcbiAgICAkKCcuY29va2llX3dyYXBwZXInKS5hZGRDbGFzcygnaGlkZGVuJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNvb2tpZVxufTsiLCJ2YXIgZ2VvY29kZXIgPSBuZXcgZ29vZ2xlLm1hcHMuR2VvY29kZXIoKTtcbi8vIGdsb2JhbCB2YXJcbnZhciBtYXAgPSBudWxsO1xuXG52YXIgZ21hcHMgPSB7XG5cblx0Z2V0TGF0TG9uZzogZnVuY3Rpb24oYWRkcmVzcywgY2FsbGJhY2ssIG1hcCwgJG1hcmtlcikge1xuXHRcdC8vIHZhciBhZGRyZXNzX3N0cmluZztcblx0XHQvLyBjb25zb2xlLmxvZyhcInR5ZXBvZiAkYWRkcmVzc1wiLCB0eXBlb2YgJGFkZHJlc3MpO1xuXHRcdC8vIGlmICh0eXBlb2YgYWRkcmVzcyA9PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gXHRjb25zb2xlLmxvZyhcIiRhZGRyZXNzXCIsICRhZGRyZXNzKTtcblx0XHQvLyBcdGFkZHJlc3Nfc3RyaW5nID0gKCRhZGRyZXNzLmF0dHIoXCJkYXRhLWFkZHJlc3NcIikpO1xuXG5cdFx0Ly8gfSBlbHNlIHtcblx0XHQvLyBcdGFkZHJlc3Nfc3RyaW5nID0gJGFkZHJlc3M7XG5cdFx0Ly8gfVxuXG5cdFx0Z2VvY29kZXIuZ2VvY29kZSh7XG5cdFx0XHRcImFkZHJlc3NcIjogYWRkcmVzc1xuXHRcdH0sIGZ1bmN0aW9uKHJlc3VsdHMsIHN0YXR1cykge1xuXHRcdFx0aWYgKHN0YXR1cyA9PT0gZ29vZ2xlLm1hcHMuR2VvY29kZXJTdGF0dXMuT0spIHtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coXCJnZXR0aW4gbGF0IGxvbmcgb2YgXCIgKyBhZGRyZXNzLCByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uKTtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coXCJsYXQgOlwiLCByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpKTtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coXCJsbmcgOlwiLCByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpKTtcblxuXG5cdFx0XHRcdGlmICh0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRcdGNhbGxiYWNrKHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24sIG1hcCwgJG1hcmtlcik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coXCJjYWxsYmFja1wiLCBjYWxsYmFjayk7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKFwiYWRkcmVzc1wiLCBhZGRyZXNzKTtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coXCJtYXBcIiwgbWFwKTtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJMZSBnZW9jb2RhZ2UgblxcXCJhIHB1IGV0cmUgZWZmZWN0dWUgcG91ciBsYSByYWlzb24gc3VpdmFudGU6IFwiICsgc3RhdHVzKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRuZXdfbWFwOiBmdW5jdGlvbigkZWwpIHtcblxuXHRcdC8vIHZhclxuXHRcdHZhciAkbWFya2VycyA9ICRlbC5maW5kKFwiLm1hcmtlclwiKTtcblxuXHRcdC8vIHZhcnNcblx0XHR2YXIgYXJncyA9IHtcblx0XHRcdHpvb206IDEyLFxuXHRcdFx0Y2VudGVyOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKDAsIDApLFxuXHRcdFx0bWFwVHlwZUlkOiBnb29nbGUubWFwcy5NYXBUeXBlSWQuUk9BRE1BUFxuXHRcdH07XG5cblx0XHQvLyBjcmVhdGUgbWFwXHQgICAgICAgIFx0XG5cdFx0dmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoJGVsWzBdLCBhcmdzKTtcblxuXHRcdC8vIGFkZCBhIG1hcmtlcnMgcmVmZXJlbmNlXG5cdFx0bWFwLm1hcmtlcnMgPSBbXTtcblxuXHRcdC8vIGFkZCBtYXJrZXJzXG5cdFx0JG1hcmtlcnMuZWFjaChmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gYWRkX21hcmtlcigkKHRoaXMpLCBtYXApO1xuXHRcdFx0Ly8gY29uc29sZS5sb2coXCJ0aGlzXCIsICQodGhpcylbMF0pO1xuXHRcdFx0Ly8gY29uc29sZS5sb2coXCJkYXRhLWFkZHJlc3NcIiwgJCh0aGlzKS5hdHRyKFwiZGF0YS1hZGRyZXNzXCIpKTtcblx0XHRcdGdldExhdExvbmcoJCh0aGlzKS5hdHRyKFwiZGF0YS1hZGRyZXNzXCIpLCBhZGRfbWFya2VyLCBtYXAsICQodGhpcykpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gY29uc29sZS5sb2coXCJtYXAubWFya2Vyc1wiLCBtYXAubWFya2Vycyk7XG5cblx0XHQvLyBjZW50ZXIgbWFwXG5cdFx0Y2VudGVyX21hcChtYXApO1xuXG5cdFx0Ly8gcmV0dXJuXG5cdFx0cmV0dXJuIG1hcDtcblx0fSxcblxuXHQvKlxuXHQgICAgICAqICBhZGRfbWFya2VyXG5cdCAgICAgICpcblx0ICAgICAgKiAgVGhpcyBmdW5jdGlvbiB3aWxsIGFkZCBhIG1hcmtlciB0byB0aGUgc2VsZWN0ZWQgR29vZ2xlIE1hcFxuXHQgICAgICAqXG5cdCAgICAgICogIEB0eXBlXHRmdW5jdGlvblxuXHQgICAgICAqICBAZGF0ZVx0OC8xMS8yMDEzXG5cdCAgICAgICogIEBzaW5jZVx0NC4zLjBcblx0ICAgICAgKlxuXHQgICAgICAqICBAcGFyYW1cdCRtYXJrZXIgKGpRdWVyeSBlbGVtZW50KVxuXHQgICAgICAqICBAcGFyYW1cdG1hcCAoR29vZ2xlIE1hcCBvYmplY3QpXG5cdCAgICAgICogIEByZXR1cm5cdG4vYVxuXHQgICAgICAqL1xuXG5cdC8vQUNGIERFRkFVTFRcblx0Ly8gZnVuY3Rpb24gYWRkX21hcmtlcihsb2NhdGlvbiwgJG1hcmtlciwgbWFwKSB7XG5cblx0Ly8gXHQvLyB2YXJcblx0Ly8gXHQvLyB2YXIgbGF0bG5nID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZygkbWFya2VyLmF0dHIoXCJkYXRhLWxhdFwiKSwgJG1hcmtlci5hdHRyKFwiZGF0YS1sbmdcIikpO1xuXHQvLyBcdHZhciBsYXRsbmcgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKDAsIDApO1xuXG5cdC8vIFx0Ly8gY3JlYXRlIG1hcmtlclxuXHQvLyBcdHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcblx0Ly8gXHRcdHBvc2l0aW9uOiBsYXRsbmcsXG5cdC8vIFx0XHRtYXA6IG1hcFxuXHQvLyBcdH0pO1xuXG5cdC8vIFx0Ly8gYWRkIHRvIGFycmF5XG5cdC8vIFx0bWFwLm1hcmtlcnMucHVzaChtYXJrZXIpO1xuXG5cdC8vIFx0Ly8gaWYgbWFya2VyIGNvbnRhaW5zIEhUTUwsIGFkZCBpdCB0byBhbiBpbmZvV2luZG93XG5cdC8vIFx0aWYgKCRtYXJrZXIuaHRtbCgpKSB7XG5cdC8vIFx0XHQvLyBjcmVhdGUgaW5mbyB3aW5kb3dcblx0Ly8gXHRcdHZhciBpbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coe1xuXHQvLyBcdFx0XHRjb250ZW50OiAkbWFya2VyLmh0bWwoKVxuXHQvLyBcdFx0fSk7XG5cblx0Ly8gXHRcdC8vIHNob3cgaW5mbyB3aW5kb3cgd2hlbiBtYXJrZXIgaXMgY2xpY2tlZFxuXHQvLyBcdFx0Z29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCBcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXG5cdC8vIFx0XHRcdGluZm93aW5kb3cub3BlbihtYXAsIG1hcmtlcik7XG5cblx0Ly8gXHRcdH0pO1xuXHQvLyBcdH1cblxuXHQvLyB9XG5cblx0YWRkX21hcmtlcjogZnVuY3Rpb24obG9jYXRpb24sIG1hcCwgJG1hcmtlcikge1xuXG5cdFx0Ly8gY29uc29sZS5sb2coXCJsYXQgOiBsb2NhdGlvbi5sYXQoKSA6XCIsIGxvY2F0aW9uLmxhdCgpKTtcblx0XHQvLyBjb25zb2xlLmxvZyhcImxuZyA6IGxvY2F0aW9uLmxuZygpIDpcIiwgbG9jYXRpb24ubG5nKCkpO1xuXHRcdC8vIGNvbnNvbGUubG9nKFwibWFwXCIsIG1hcCk7XG5cblx0XHR2YXIgaWNvbiA9IHtcblx0XHRcdHBhdGg6IFwiTTE4LjEzOCAzLjE2N2MtNC4wNDgtNC4wNS0xMC42MTMtNC4wNS0xNC42NjIgMC0zLjY0OCAzLjY1LTQuMDU5IDEwLjUyNC0uOTYzIDE0LjY1NGw4LjI5NCAxMS45ODUgOC4yOTQtMTEuOTg1YzMuMDk2LTQuMTMgMi42ODUtMTEuMDA0LS45NjMtMTQuNjU0em0tNy4yMyAxMC42NTlhMy40MjMgMy40MjMgMCAwIDEtMy40MjItMy40MjQgMy40MjMgMy40MjMgMCAxIDEgNi44NDQgMCAzLjQyMyAzLjQyMyAwIDAgMS0zLjQyMiAzLjQyNHpcIixcblx0XHRcdGZpbGxDb2xvcjogXCIjRkU5NDI2XCIsXG5cdFx0XHRmaWxsT3BhY2l0eTogMSxcblx0XHRcdGFuY2hvcjogbmV3IGdvb2dsZS5tYXBzLlBvaW50KDAsIDApLFxuXHRcdFx0c3Ryb2tlV2VpZ2h0OiAwLFxuXHRcdFx0c2NhbGU6IDFcblx0XHR9O1xuXG5cdFx0Ly8gdmFyXG5cdFx0dmFyIGxhdGxuZyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobG9jYXRpb24ubGF0KCksIGxvY2F0aW9uLmxuZygpKTtcblxuXHRcdC8vIGNyZWF0ZSBtYXJrZXJcblx0XHR2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG5cdFx0XHRwb3NpdGlvbjogbGF0bG5nLFxuXHRcdFx0bWFwOiBtYXAsXG5cdFx0XHRpY29uOiBpY29uXG5cdFx0fSk7XG5cblx0XHQvLyBhZGQgdG8gYXJyYXlcblx0XHRtYXAubWFya2Vycy5wdXNoKG1hcmtlcik7XG5cblx0XHQvLyBjb25zb2xlLmxvZyhcIm1hcC5tYXJrZXJzXCIsIG1hcC5tYXJrZXJzKTtcblxuXHRcdC8vIGNvbnNvbGUubG9nKFwibWFya2VyIGh0bWxcIiwgJG1hcmtlci5odG1sKCkpO1xuXHRcdC8vIGlmIG1hcmtlciBjb250YWlucyBIVE1MLCBhZGQgaXQgdG8gYW4gaW5mb1dpbmRvd1xuXHRcdGlmICgkbWFya2VyLmh0bWwoKSkge1xuXHRcdFx0Ly8gY3JlYXRlIGluZm8gd2luZG93XG5cdFx0XHR2YXIgaW5mb3dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHtcblx0XHRcdFx0Y29udGVudDogJG1hcmtlci5odG1sKClcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBzaG93IGluZm8gd2luZG93IHdoZW4gbWFya2VyIGlzIGNsaWNrZWRcblx0XHRcdGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlciwgXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRpbmZvd2luZG93Lm9wZW4obWFwLCBtYXJrZXIpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qXG5cdCAgICAgICogIGNlbnRlcl9tYXBcblx0ICAgICAgKlxuXHQgICAgICAqICBUaGlzIGZ1bmN0aW9uIHdpbGwgY2VudGVyIHRoZSBtYXAsIHNob3dpbmcgYWxsIG1hcmtlcnMgYXR0YWNoZWQgdG8gdGhpcyBtYXBcblx0ICAgICAgKlxuXHQgICAgICAqICBAdHlwZVx0ZnVuY3Rpb25cblx0ICAgICAgKiAgQGRhdGVcdDgvMTEvMjAxM1xuXHQgICAgICAqICBAc2luY2VcdDQuMy4wXG5cdCAgICAgICpcblx0ICAgICAgKiAgQHBhcmFtXHRtYXAgKEdvb2dsZSBNYXAgb2JqZWN0KVxuXHQgICAgICAqICBAcmV0dXJuXHRuL2Fcblx0ICAgICAgKi9cblxuXHRjZW50ZXJfbWFwOiBmdW5jdGlvbihtYXApIHtcblxuXHRcdC8vIHZhcnNcblx0XHR2YXIgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xuXG5cdFx0Ly8gY29uc29sZS5sb2coXCJtYXBcIiwgbWFwKTtcblx0XHQvLyBjb25zb2xlLmxvZyhcIm1hcC5tYXJrZXJzXCIsIG1hcC5tYXJrZXJzKTtcblx0XHQvLyBjb25zb2xlLmxvZyhcIm1hcC5tYXJrZXJzLmxlbmd0aFwiLCBtYXAubWFya2Vycy5sZW5ndGgpO1xuXHRcdC8vIFdIQVQuLi4uLi4uIHdoYXQgaXMgYXN5bmMgaW4gcHJldmlvdXMgZnVuY3M/XG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdC8vIGxvb3AgdGhyb3VnaCBhbGwgbWFya2VycyBhbmQgY3JlYXRlIGJvdW5kc1xuXHRcdFx0JC5lYWNoKG1hcC5tYXJrZXJzLCBmdW5jdGlvbihpLCBtYXJrZXIpIHtcblxuXHRcdFx0XHR2YXIgbGF0bG5nID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhtYXJrZXIucG9zaXRpb24ubGF0KCksIG1hcmtlci5wb3NpdGlvbi5sbmcoKSk7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coXCJsYXRsbmcgb2YgbWFya2Vyc1wiLCBsYXRsbmcpO1xuXG5cdFx0XHRcdGJvdW5kcy5leHRlbmQobGF0bG5nKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBvbmx5IDEgbWFya2VyP1xuXHRcdFx0aWYgKG1hcC5tYXJrZXJzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0XHQvLyBzZXQgY2VudGVyIG9mIG1hcFxuXHRcdFx0XHRtYXAuc2V0Q2VudGVyKGJvdW5kcy5nZXRDZW50ZXIoKSk7XG5cdFx0XHRcdG1hcC5zZXRab29tKDE2KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGZpdCB0byBib3VuZHNcblx0XHRcdFx0bWFwLmZpdEJvdW5kcyhib3VuZHMpO1xuXHRcdFx0fVxuXHRcdH0sIDEwMDApO1xuXHR9LFxuXG5cdHBhblRvUG9zaXRpb246IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG5cdFx0Y29uc29sZS5sb2coXCJtYXBcIiwgbWFwKTtcblx0XHRtYXAucGFuVG8ocG9zaXRpb24pO1xuXHR9LFxuXG5cdC8vIGZ1bmN0aW9uIHJlY2VudGVyX29uX3NlbGVjdCgpIHtcblx0Ly8gXHRjb25zb2xlLmxvZygpO1xuXHQvLyB9XG5cbi8qXG4gICAgICAqICBkb2N1bWVudCByZWFkeVxuICAgICAgKlxuICAgICAgKiAgVGhpcyBmdW5jdGlvbiB3aWxsIHJlbmRlciBlYWNoIG1hcCB3aGVuIHRoZSBkb2N1bWVudCBpcyByZWFkeSAocGFnZSBoYXMgbG9hZGVkKVxuICAgICAgKlxuICAgICAgKiAgQHR5cGVcdGZ1bmN0aW9uXG4gICAgICAqICBAZGF0ZVx0OC8xMS8yMDEzXG4gICAgICAqICBAc2luY2VcdDUuMC4wXG4gICAgICAqXG4gICAgICAqICBAcGFyYW1cdG4vYVxuICAgICAgKiAgQHJldHVyblx0bi9hXG4gICAgICAqL1xufTtcblxuJChcIi5zZWxlY3RfY2VudGVyXCIpLmNoYW5nZSgoKSA9PiB7XG5cdC8vIHZhciBtYXAgPSBuZXdfbWFwKCQoXCIuYWNmLW1hcFwiKSk7XG5cdGdldExhdExvbmcoJChcIi5zZWxlY3RfY2VudGVyXCIpLnZhbCgpLCBwYW5Ub1Bvc2l0aW9uKTtcbi8vIG1hcC5wYW5Ub1xufSk7XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG5cdCQoXCIuYWNmLW1hcFwiKS5lYWNoKCgpID0+IHtcblxuXHRcdC8vIGNyZWF0ZSBtYXBcblx0XHRtYXAgPSBuZXdfbWFwKCQodGhpcykpO1xuXHRcdGNvbnNvbGUubG9nKFwibWFwIGNyZWF0ZWRcIik7XG5cdH0pO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRnbWFwc1xufTsiLCJpZiAoJChcIi5nbWFwc1wiKS5sZW5ndGggPiAwKSB7XG5cdGNvbnN0IHtnbWFwc30gPSByZXF1aXJlKCcuL21hcHMnKTtcbn1cblxuY29uc3Qge2Nvb2tpZX0gPSByZXF1aXJlKCcuL2Nvb2tpZScpO1xuXG4oZnVuY3Rpb24ocm9vdCwgJCwgdW5kZWZpbmVkKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuJCgoKSA9PiB7XG5cdC8vIERPTSByZWFkeSwgdGFrZSBpdCBhd2F5XG5cblx0Y29uc29sZS5sb2coXCJKUy9KUSBSZWFkeSB2LjcgXCIpO1xuXG5cdC8qIExvYWRlciAqL1xuXHQkKHdpbmRvdykubG9hZChmdW5jdGlvbigpIHtcblx0XHQkKFwiLmxvYWRlclwiKS5mYWRlT3V0KFwic2xvd1wiKTtcblx0fSk7XG5cblx0LyogSGFtYnVyZ2VyIG1lbnUgKi9cblx0dmFyIGhhbWJ1cmdlciA9ICQoXCIjaGFtYnVyZ2VyLWljb25cIik7XG5cdGhhbWJ1cmdlci5jbGljayhmdW5jdGlvbigpIHtcblx0XHRoYW1idXJnZXIudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIik7XG5cdFx0JChcIi5uYXZzX3dyYXBwZXIgbmF2XCIpLnRvZ2dsZUNsYXNzKFwidGFibGV0X21lbnVfYWN0aXZlXCIpO1xuXHQvLyByZXR1cm4gZmFsc2U7XG5cdH0pO1xuXG5cdC8qIEZvcm0gYnV0dG9uIHJlcGxhY2VtZW50ICovXG5cdGlmIChqUXVlcnkoXCJmb3JtLndwY2Y3LWZvcm0gLmJ1dHRvblwiKS5sZW5ndGggPiAwKSB7XG5cdFx0alF1ZXJ5KFwiZm9ybS53cGNmNy1mb3JtIC5idXR0b25cIikuY2xpY2soZnVuY3Rpb24oKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcInN1Ym1pdHRpbmdcIik7XG5cdFx0XHQkKHRoaXMpLmNsb3Nlc3QoXCJmb3JtXCIpLnN1Ym1pdCgpO1xuXHRcdH0pO1xuXHR9XG5cblx0LypTaG93IG1vcmUgZXZlbnRzKi9cblxuXHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHQkKCcubW9yZV9ldmVudHMnKS5jbGljaygoZSkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coXCJzaG93aW5nIG1vcmUgZXZlbnRzXCIpO1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0JCgnLmV2ZW50Lm5pbmphJykuZmFkZUluKCk7XG5cdFx0XHQkKCcubW9yZV9ldmVudHMnKS5jc3MoJ2xlZnQnLCAnMTAwJScpO1xuXHRcdH0pO1xuXHRcdCQoJy5tb3JlX3Bob3RvcycpLmNsaWNrKChlKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZyhcInNob3dpbmcgbW9yZSBldmVudHNcIik7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQkKCcuYWxidW1fdGh1bWIubmluamEnKS5mYWRlSW4oKCkgPT4ge1xuXHRcdFx0XHQvLyAkKCcubW9yZV9waG90b3MnKS5mYWRlT3V0KCgpID0+IHtcblx0XHRcdFx0Ly8gXHRjb25zb2xlLmxvZygnc2xpZHVwJyk7XG5cdFx0XHRcdC8vIH0pO1xuXHRcdFx0fSk7XG5cdFx0XHQkKCcubW9yZV9waG90b3MnKS5jc3MoJ2xlZnQnLCAnMTAwJScpO1xuXHRcdH0pO1xuXHR9LCAxMCk7XG5cblx0LyogTWFnbmlmaWMgcG9wdXAgKi9cblx0Ly8gJCgnLnBob3RvX2dhbGxlcnkgLnBob3RvJykubWFnbmlmaWNQb3B1cCh7XG5cdC8vIFx0ZGVsZWdhdGU6ICdhJywgLy8gY2hpbGQgaXRlbXMgc2VsZWN0b3IsIGJ5IGNsaWNraW5nIG9uIGl0IHBvcHVwIHdpbGwgb3BlblxuXHQvLyBcdHR5cGU6ICdpbWFnZSdcblx0Ly8gLy8gb3RoZXIgb3B0aW9uc1xuXHQvLyB9KTtcblxuXHQkKCcucGhvdG9fZ2FsbGVyeSAucGhvdG8gYScpLm1hZ25pZmljUG9wdXAoe1xuXHRcdHR5cGU6ICdpbWFnZScsXG5cblx0XHRnYWxsZXJ5OiB7XG5cdFx0XHRlbmFibGVkOiB0cnVlLFxuXHRcdFx0cHJlbG9hZDogWzAsIDJdLCAvLyByZWFkIGFib3V0IHRoaXMgb3B0aW9uIGluIG5leHQgTGF6eS1sb2FkaW5nIHNlY3Rpb25cblxuXHRcdFx0bmF2aWdhdGVCeUltZ0NsaWNrOiB0cnVlLFxuXG5cdFx0XHRhcnJvd01hcmt1cDogJzxidXR0b24gdGl0bGU9XCIldGl0bGUlXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibWZwLWFycm93IG1mcC1hcnJvdy0lZGlyJVwiPjwvYnV0dG9uPicsIC8vIG1hcmt1cCBvZiBhbiBhcnJvdyBidXR0b25cblxuXHRcdFx0dFByZXY6ICdQcmV2aW91cyAoTGVmdCBhcnJvdyBrZXkpJywgLy8gdGl0bGUgZm9yIGxlZnQgYnV0dG9uXG5cdFx0XHR0TmV4dDogJ05leHQgKFJpZ2h0IGFycm93IGtleSknLCAvLyB0aXRsZSBmb3IgcmlnaHQgYnV0dG9uXG5cdFx0XHR0Q291bnRlcjogJzxzcGFuIGNsYXNzPVwibWZwLWNvdW50ZXJcIj4lY3VyciUgb2YgJXRvdGFsJTwvc3Bhbj4nIC8vIG1hcmt1cCBvZiBjb3VudGVyXG5cdFx0fVxuXHR9KTtcblxuXG5cdC8qIFNtb290aCBhbmNob3Igc2Nyb2xsIGZyb20gY3NzLXRyaWNrcyAqL1xuXHQvLyBTZWxlY3QgYWxsIGxpbmtzIHdpdGggaGFzaGVzXG5cdCQoJ2FbaHJlZio9XCIjXCJdJylcblx0XHQvLyBSZW1vdmUgbGlua3MgdGhhdCBkb24ndCBhY3R1YWxseSBsaW5rIHRvIGFueXRoaW5nXG5cdFx0Lm5vdCgnW2hyZWY9XCIjXCJdJylcblx0XHQubm90KCdbaHJlZj1cIiMwXCJdJylcblx0XHQuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdC8vIE9uLXBhZ2UgbGlua3Ncblx0XHRcdGlmIChcblx0XHRcdFx0XHRsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgJycpID09IHRoaXMucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sICcnKVxuXHRcdFx0XHRcdCYmXG5cdFx0XHRcdFx0bG9jYXRpb24uaG9zdG5hbWUgPT0gdGhpcy5ob3N0bmFtZVxuXHRcdFx0KSB7XG5cdFx0XHRcdC8vIEZpZ3VyZSBvdXQgZWxlbWVudCB0byBzY3JvbGwgdG9cblx0XHRcdFx0dmFyIHRhcmdldCA9ICQodGhpcy5oYXNoKTtcblx0XHRcdFx0dGFyZ2V0ID0gdGFyZ2V0Lmxlbmd0aCA/IHRhcmdldCA6ICQoJ1tuYW1lPScgKyB0aGlzLmhhc2guc2xpY2UoMSkgKyAnXScpO1xuXHRcdFx0XHQvLyBEb2VzIGEgc2Nyb2xsIHRhcmdldCBleGlzdD9cblx0XHRcdFx0aWYgKHRhcmdldC5sZW5ndGgpIHtcblx0XHRcdFx0XHQvLyBPbmx5IHByZXZlbnQgZGVmYXVsdCBpZiBhbmltYXRpb24gaXMgYWN0dWFsbHkgZ29ubmEgaGFwcGVuXG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHQkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG5cdFx0XHRcdFx0XHRzY3JvbGxUb3A6IHRhcmdldC5vZmZzZXQoKS50b3Bcblx0XHRcdFx0XHR9LCAxMDAwLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdC8vIENhbGxiYWNrIGFmdGVyIGFuaW1hdGlvblxuXHRcdFx0XHRcdFx0Ly8gTXVzdCBjaGFuZ2UgZm9jdXMhXG5cdFx0XHRcdFx0XHR2YXIgJHRhcmdldCA9ICQodGFyZ2V0KTtcblx0XHRcdFx0XHRcdCR0YXJnZXQuZm9jdXMoKTtcblx0XHRcdFx0XHRcdGlmICgkdGFyZ2V0LmlzKFwiOmZvY3VzXCIpKSB7IC8vIENoZWNraW5nIGlmIHRoZSB0YXJnZXQgd2FzIGZvY3VzZWRcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0JHRhcmdldC5hdHRyKCd0YWJpbmRleCcsICctMScpOyAvLyBBZGRpbmcgdGFiaW5kZXggZm9yIGVsZW1lbnRzIG5vdCBmb2N1c2FibGVcblx0XHRcdFx0XHRcdFx0JHRhcmdldC5mb2N1cygpOyAvLyBTZXQgZm9jdXMgYWdhaW5cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdDtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG59KTtcbn0pKHVuZGVmaW5lZCwgalF1ZXJ5KTsiXX0="}